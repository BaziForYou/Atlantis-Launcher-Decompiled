"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[882],{2882:function(e,t,a){a.d(t,{$_:function(){return k},VM:function(){return c},wp:function(){return o},ou:function(){return C}});var s=a(5893),l=a(9583),r={src:"/_next/static/media/logo.537b02ee.png",height:671,width:739,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAAJFBMVEVGv9FMaXFIwtJHws9HwNJGwNJHwtRGv9FGwNJFvdBHwtNFvc60zqxVAAAADHRSTlOEABkNNZ11Zbpb2pP/XK8iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMElEQVR4nAXBiQEAIAwCsQP6qPsPbEKsHSW4NSMKP9/rU/g0dBeCAYKy9ERIri3pAxh1ALhfrUPuAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:7},n={src:"/_next/static/media/bgov.b4a1eb41.png",height:314,width:673,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAAMFBMVEVMaXEywNllhdbdGItNmeb8GG/SRYCJW8C1Qqg6mOucWaVKhNv5LmJbeNdyaL/bJ5PKViaOAAAAEHRSTlMABhwLIyeiYmQ0oE9iToFOG4iy8AAAAAlwSFlzAAALEwAACxMBAJqcGAAAACdJREFUeJwVxccNACAQwLBcp7P/tgh/zDwjcwX0Xe2GgbqrAYjIjwcOsgCPXHaEggAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:4},i=a(1664),d=a.n(i);let o=()=>{let e=[{id:1,icon:(0,s.jsx)(l.j2d,{}),url:"https://discord.gg/iratlantisrp"},{id:2,icon:(0,s.jsx)(l.fWC,{}),url:"https://twitter.com/_AtlantisRP_"},{id:3,icon:(0,s.jsx)(l.hrS,{}),url:"https://www.reddit.com/r/AtlantisRP"},{id:4,icon:(0,s.jsx)(l.Zf_,{}),url:"https://www.instagram.com/atlantisrp.ir/"}];return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("div",{className:"container mx-auto flex flex-col items-center justify-between space-y-5 px-8 py-10 md:flex-row md:space-y-0",children:[(0,s.jsxs)("div",{className:"flex w-full items-center justify-between space-x-7 space-x-reverse md:justify-start",children:[(0,s.jsx)("img",{src:r.src,className:"pointer-events-none h-[70px]"}),(0,s.jsxs)("ul",{className:"flex items-center space-x-5 space-x-reverse text-xl",children:[(0,s.jsx)("li",{children:(0,s.jsx)(d(),{href:"/",children:"صفحه اصلی"})}),(0,s.jsx)("li",{children:(0,s.jsx)(d(),{href:"/rules",children:"قوانین سرور"})})]})]}),(0,s.jsx)("ul",{className:"flex items-center space-x-3.5 space-x-reverse",children:e.map(e=>(0,s.jsx)("a",{href:e.url,target:"_blank",children:(0,s.jsx)("li",{className:"flex h-8 w-8 transform cursor-pointer items-center justify-center rounded-[10px] bg-gray-500/60 text-lg text-white transition-transform duration-200 hover:scale-110",children:e.icon})},e.id))})]}),(0,s.jsx)("img",{src:n.src,className:"pointer-events-none absolute top-0 left-0 w-[600px] blur-3xl"})]})},c=()=>(0,s.jsxs)("div",{className:"mb-12 p-5 text-center md:mb-20",children:[(0,s.jsxs)("h1",{className:"mb-3 font-kalamehBlack text-[50px] md:text-[60px]",children:[(0,s.jsx)("b",{className:"text-[#48bdcf]",children:"آتلانتیس"})," رول پلی"]}),(0,s.jsx)("p",{className:"text-[25px] opacity-90 md:text-[30px]",children:"رویای خود را با ما بسازید"})]});var x=a(7294),u=a(3299),m=a(4080),h=a(4361),p=a(9963);let f=e=>{let{isOpen:t,setIsOpen:a}=e,[r,n]=(0,x.useState)(""),[i,d]=(0,x.useState)(""),[o,c]=(0,x.useState)(!1),u=p.h.user.updatePhoneNumber.useMutation(),f=p.h.user.sendSmsCode.useMutation(),g=p.h.user.verifySmsCode.useMutation(),b=()=>{11===r.length?u.mutateAsync(r).then(()=>{f.mutate(),c(!0)}).catch(e=>{e.message.includes("Unique constraint")?alert("این شماره برای اکانت دیگری ثبت شده"):alert("مشکلی پیش آمده است"),c(!1)}):alert("شماره تلفن وارد شده صحیح نمی باشد")},A=()=>{5===i.length?g.mutateAsync(i).then(e=>{e?(a(!1),window.location.reload()):alert("کد وارد شده صحیح نمی باشد")}).catch(console.error):alert("کد وارد شده صحیح نمی باشد")};return(0,s.jsx)(m.u,{appear:!0,show:t,as:x.Fragment,children:(0,s.jsxs)(h.V,{as:"div",className:"relative z-10",onClose:()=>null,children:[(0,s.jsx)(m.u.Child,{as:x.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50"})}),(0,s.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,s.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,s.jsx)(m.u.Child,{as:x.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,s.jsxs)(h.V.Panel,{className:"w-[320px] transform overflow-hidden rounded-2xl bg-zinc-800 p-6 text-center align-middle !text-zinc-200 shadow-xl transition-all",children:[(0,s.jsx)(h.V.Title,{as:"h2",className:"mb-7 text-2xl font-medium leading-6",children:"احراز هویت با شماره تلفن"}),(0,s.jsx)("div",{className:"space-y-4",children:o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{placeholder:"کد تایید",value:i,className:"w-full rounded-xl bg-zinc-700 px-3 py-2",onChange:e=>d(e.target.value)}),(0,s.jsx)("div",{onClick:()=>{c(!1),d(""),n("")},className:"cursor-pointer text-right text-[#48bdcf]/75",children:"تغییر شماره تلفن"}),(0,s.jsx)("button",{onClick:A,className:"text-md flex w-full transform items-center justify-center rounded-xl bg-[#48bdcf]/70 py-2 px-6 font-kalamehBold",disabled:g.isLoading,children:g.isLoading?(0,s.jsx)(l.fCD,{className:"animate-spin text-xl"}):"تایید کد"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{placeholder:"شماره تلفن",className:"w-full rounded-xl bg-zinc-700 px-3 py-2",value:r,onChange:e=>n(e.target.value)}),(0,s.jsx)("button",{onClick:b,className:"text-md flex w-full transform items-center justify-center rounded-xl bg-[#48bdcf]/70 py-2 px-6 font-kalamehBold",disabled:u.isLoading,children:u.isLoading?(0,s.jsx)(l.fCD,{className:"animate-spin text-xl"}):"احراز هویت"})]})})]})})})})]})})},g=e=>{switch(e){case"bronze":return 99e3;case"silver":return 199e3;case"gold":return 299e3;case"diamond":return 699e3;default:return 0}};var b=a(7484),A=a.n(b),j=a(6455),v=a.n(j),y=a(7630),w=a.n(y);let N=e=>{var t,a,r,n,i;let{title:d,type:o,options:c}=e,m=w()(v()),[h,b]=(0,x.useState)(!1),{data:j}=(0,u.useSession)(),y=p.h.user.isUserVerified.useMutation(),N=p.h.payment.createInvoice.useMutation(),C=p.h.payment.checkUserSubscribe.useMutation(),k=p.h.discord.checkUser.useMutation(),[S,E]=(0,x.useState)(1),[F,M]=(0,x.useState)(g(o)*S),[B,P]=(0,x.useState)(String(g("gold")*S)),[L,V]=(0,x.useState)(String(g("diamond")*S)),O=async e=>{let t=e.target.value;E(t),M(g(o)*Number(t)),"diamond"==o&&V(String(g(o)*Number(t)))},G=async()=>{var e,t;let a=k.data;if(!1===a){alert("شما در سرور دیسکورد ما عضو نیستید. لطفا ابتدا عضو شوید و سپس اشتراک خود را خریداری کنید.");return}if(null===(e=C.data)||void 0===e?void 0:e.tier){let e=g(o)*S,a=g(o)*S;if("diamond"==o){if(Number(L)>=e)e=Number(L);else{alert("شما نمی توانید برای خرید ساب اسکرایب diamond کمتر از ".concat(a," پرداخت کنید")),V(String(a));return}}let s=A()(null===(t=C.data)||void 0===t?void 0:t.expireDate).diff(A()().format(),"day"),l=g(C.data.tier),r=Math.round(e-Math.round(Math.round(l/30)*s)),n="در نظر داشته باشید که اشتراک فعلی شما "+C.data.tier+" بوده و حدودا "+s+" روز از آن باقی مانده است .در صورت نیاز به تغییر سابسکریپشن نیازمند پرداخت  "+r+" تومان برای بروز رسانی اشتراک خود دارید .";r>0?m.fire({title:"اخطار",text:n,showCancelButton:!0,cancelButtonText:"انصراف",confirmButtonText:"تایید",icon:"warning",preConfirm:async()=>{R()}}):alert("امکان تغییر اشتراک وجود ندارد")}else R()},R=()=>{let e=g(o)*S,t=g(o)*S;if("diamond"==o){if(Number(L)>=e)e=Number(L);else{alert("شما نمی توانید برای خرید ساب اسکرایب diamond کمتر از ".concat(t," پرداخت کنید")),V(String(t));return}}console.log(e),N.mutateAsync({amount:e,month:Number(S)}).then(e=>{e?window.open(null==e?void 0:e.url,"_self"):alert("لطفا دوباره تلاش کنید")}).catch(console.error)};return(0,x.useEffect)(()=>{j&&(y.mutate(),C.mutate())},[j]),(0,s.jsxs)("div",{className:"mx-auto min-w-[80%] rounded-2xl bg-[#2B2C30] p-5",children:[(0,s.jsx)("h6",{className:"pb-6 text-center font-kalamehBold text-4xl ".concat("gold"===o?"text-yellow-400":"bronze"===o?"text-amber-700":"").concat("diamond"===o?"text-sky-400":""),children:d}),(0,s.jsx)("ul",{className:"mr-[22px] min-h-[145px] list-disc space-y-2 marker:text-[26px] marker:text-gray-500",children:c.map((e,t)=>(0,s.jsx)("li",{children:e},t))}),"diamond"!=o&&(0,s.jsxs)("h6",{className:"my-5 text-2xl",children:[(0,s.jsx)("b",{className:"ml-1 text-3xl text-[#48bdcf]",id:"priceHolder",children:Intl.NumberFormat().format(F)}),"تومان"]}),"diamond"==o&&(0,s.jsxs)("h6",{className:"my-5 text-2xl",children:[(0,s.jsx)("input",{type:"number",min:F*S,defaultValue:F*S,value:L,onChange:e=>V(e.target.value),className:"w-70 focus:shadow-outline mx-2 mb-3 appearance-none rounded border border-red-500 px-3 leading-tight text-gray-700 shadow focus:outline-none"}),"تومان"]}),(0,s.jsx)("label",{htmlFor:"plans",className:"mb-2 block text-sm font-medium text-gray-900 dark:text-white",children:"مدت زمان"}),(0,s.jsx)("select",{id:"plans",value:S,onChange:O,className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",children:[{label:"یک ماه",value:1},{label:"دو ماه",value:2},{label:"سه ماهه",value:3}].map(e=>(0,s.jsx)("option",{value:e.value,children:e.label}))}),(0,s.jsx)("br",{}),(null==j?void 0:j.user)&&(0,s.jsxs)("div",{className:"mb-5 flex justify-between",children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("img",{src:(null==j?void 0:null===(t=j.user)||void 0===t?void 0:t.image)||"",className:"ml-2 h-6 w-6 rounded-full"}),(0,s.jsxs)("div",{children:[null==j?void 0:j.user.name,(null===(a=C.data)||void 0===a?void 0:a.tier)?" - "+(null===(r=C.data)||void 0===r?void 0:r.tier):"",(null===(n=C.data)||void 0===n?void 0:n.expireDate)?" - "+A()(null===(i=C.data)||void 0===i?void 0:i.expireDate).diff(A()().format(),"day")+" Days":""]})]}),(0,s.jsx)("button",{className:"text-[#48bdcf]",onClick:()=>(0,u.signOut)(),children:"تغییر اکانت"})]}),y.data?(0,s.jsx)("button",{onClick:G,className:"flex w-full transform items-center justify-center rounded-xl bg-[#48bdcf]/80 py-3 px-6 font-kalamehBold text-xl text-zinc-800 transition-all duration-200 hover:-translate-y-1 hover:shadow-2xl",disabled:N.isLoading,children:N.isLoading?(0,s.jsx)(l.fCD,{className:"animate-spin text-xl"}):"خرید اشتراک"}):(null==j?void 0:j.user)?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("button",{onClick:()=>b(!0),className:"flex w-full transform items-center justify-center space-x-2 space-x-reverse rounded-xl bg-[#515256] py-3 px-6 font-kalamehBold text-xl transition-all duration-200 hover:-translate-y-1 hover:shadow-2xl",disabled:y.isLoading,children:"احراز هویت"})}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("button",{onClick:()=>(0,u.signIn)("discord"),className:"flex w-full transform items-center justify-center space-x-2 space-x-reverse rounded-xl bg-[#515256] py-3 px-6 font-kalamehBold text-xl transition-all duration-200 hover:-translate-y-1 hover:shadow-2xl",disabled:y.isLoading,children:[(0,s.jsx)(l.j2d,{}),(0,s.jsx)("span",{children:"ورود با دیسکورد"})]})}),h&&(0,s.jsx)(f,{isOpen:h,setIsOpen:b})]})},C=()=>(0,s.jsx)("div",{className:"container mx-auto grid gap-10 md:grid-cols-4",children:[{id:1,title:"پلن برنزی",type:"bronze",options:["الویت صف 2x"],month:1},{id:2,title:"پلن نقره ای",type:"silver",options:["الویت صف 3x","پشتیبانی ۲۴ ساعته توسط تیکت"],month:1},{id:3,title:"پلن طلایی",type:"gold",options:["الویت صف 4x","درخواست 3d","پشتیبانی ۲۴ ساعته توسط تیکت"],month:1},{id:4,title:"پلن دایمند",type:"diamond",options:["الویت صف 6x","درخواست گنگ","درخواست پد"],month:1}].map(e=>(0,s.jsx)(N,{title:e.title,type:e.type,options:e.options,month:e.month},e.id))}),k=()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{dir:"ltr",className:"container sticky mx-auto mt-0 px-8 py-10 text-center text-lg opacity-95",children:"در نظر داشته باشید که بعد از پرداخت به هیچ وجه مبلغ اشتراک شما بازگشت داده نمی شود"}),(0,s.jsxs)("div",{dir:"ltr",className:"container sticky top-[100vh] mx-auto mt-10 px-8 py-10 text-center text-lg opacity-95",children:["\xa9 ",new Date().getFullYear()," Atlantis RP"]}),(0,s.jsx)("a",{referrerPolicy:"origin",target:"_blank",href:"https://trustseal.enamad.ir/?id=366394&Code=xOOkf0fG2cC9PMb6n5od",children:(0,s.jsx)("img",{referrerPolicy:"origin",src:"https://trustseal.enamad.ir/logo.aspx?id=366394&Code=xOOkf0fG2cC9PMb6n5od",alt:"",style:{cursor:"pointer"},id:"xOOkf0fG2cC9PMb6n5od"})})]})}}]);